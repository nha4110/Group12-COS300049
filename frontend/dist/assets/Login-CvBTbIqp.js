import{c as b,j as e,u as j,d as y,r as l,C as v,m as w,P as L,T as t,B as S,b as I}from"./index-BaiZDlTz.js";import{l as k}from"./authApi-BUHNd7p8.js";import{T as g}from"./TextField-D2dsXHRM.js";import{B as m}from"./Button-aGJUPGZF.js";const p=b(e.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),R=()=>{const c=j(),{dispatch:f}=y(),[s,x]=l.useState({username:"",password:""}),[d,o]=l.useState(""),[n,i]=l.useState(!1),u=a=>{x({...s,[a.target.name]:a.target.value})},h=async a=>{if(a.preventDefault(),o(""),i(!0),!s.username||!s.password){o("Username and password are required."),i(!1);return}try{const r=await k(s.username,s.password);console.log("Login Response:",r),r.success?(console.log("Login User:",r.user),f({type:"LOGIN",payload:r.user}),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("jwtToken",r.token),localStorage.setItem("wallet_address",r.user.wallet_address),c("/profile")):o(r.message)}catch(r){console.error("Login Error:",r),o("An unexpected error occurred.")}finally{i(!1)}};return e.jsx(v,{maxWidth:"sm",sx:{mt:6,mb:4},children:e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(L,{elevation:6,sx:{p:4,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #f0f4ff)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[e.jsxs(t,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#2c3e50",display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(p,{})," Log In"]}),e.jsx(t,{variant:"body1",sx:{color:"#7f8c8d",mb:3},children:"Access your NFT world!"}),d&&e.jsx(t,{color:"error",sx:{mb:2,fontWeight:"bold"},children:d}),e.jsxs(S,{component:"form",onSubmit:h,sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(g,{fullWidth:!0,label:"Username",name:"username",value:s.username,onChange:u,required:!0,variant:"outlined",sx:{bgcolor:"#fff",borderRadius:1},InputLabelProps:{sx:{color:"#34495e"}}}),e.jsx(g,{fullWidth:!0,label:"Password",name:"password",type:"password",value:s.password,onChange:u,required:!0,variant:"outlined",sx:{bgcolor:"#fff",borderRadius:1},InputLabelProps:{sx:{color:"#34495e"}}}),e.jsx(m,{type:"submit",variant:"contained",fullWidth:!0,disabled:n,sx:{mt:2,py:1.5,borderRadius:2,background:"linear-gradient(90deg, #6e8efb, #a777e3)","&:hover":{background:"linear-gradient(90deg, #5d78e6, #9366d2)"},"&:disabled":{bgcolor:"#bdc3c7"}},startIcon:n?e.jsx(I,{size:24,color:"inherit"}):e.jsx(p,{}),children:n?"Logging In...":"Log In"})]}),e.jsxs(t,{sx:{mt:3,color:"#34495e"},children:["Donâ€™t have an account?"," ",e.jsx(m,{onClick:()=>c("/signup"),sx:{textTransform:"none",color:"#6e8efb",fontWeight:"bold"},children:"Sign Up"})]})]})})})};export{R as default};
