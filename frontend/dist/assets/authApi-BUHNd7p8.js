import{a as l}from"./index-BaiZDlTz.js";const c="http://localhost:8081",g=async(o,n,r)=>{var a,t,s;try{const e=await l.post(`${c}/signup`,{username:o,email:n,password:r});return e.data.success&&localStorage.setItem("wallet_address",e.data.walletAddress),e.data}catch(e){return console.error("Signup error:",((a=e.response)==null?void 0:a.data)||e.message),{success:!1,message:((s=(t=e.response)==null?void 0:t.data)==null?void 0:s.message)||"Signup failed"}}},i=async(o,n)=>{var r,a,t;try{const s=await l.post(`${c}/login`,{username:o,password:n});if(s.data.token){const e={...s.data.user,wallet_address:s.data.user.wallet_address};return localStorage.setItem("jwtToken",s.data.token),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("wallet_address",e.wallet_address),{success:!0,token:s.data.token,user:e}}return{success:!1,message:"Invalid login response"}}catch(s){return console.error("Login error:",((r=s.response)==null?void 0:r.data)||s.message),{success:!1,message:((t=(a=s.response)==null?void 0:a.data)==null?void 0:t.message)||"Login failed"}}};export{i as l,g as s};
